# ğŸ—ºï¸ Diagrama de IntegraciÃ³n FakeStoreAPI

## ğŸ“Š Arquitectura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLIENTE (NAVEGADOR)                      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚        /products (PÃ¡gina Principal)                â”‚     â”‚
â”‚  â”‚                                                    â”‚     â”‚
â”‚  â”‚  [ProductCard] [ProductCard] [ProductCard] ...    â”‚     â”‚
â”‚  â”‚                                                    â”‚     â”‚
â”‚  â”‚  Filtros: [Todos] [Disponibles]                   â”‚     â”‚
â”‚  â”‚                                                    â”‚     â”‚
â”‚  â”‚  Carrito: [Seleccionar Cantidad] [Comprar]        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                         â†‘                                    â”‚
â”‚                         â”‚ (HTTP)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SERVIDOR (Next.js)                       â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            API Routes (/api/*)                      â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  GET  /api/products        â† Sincroniza si vacÃ­o   â”‚   â”‚
â”‚  â”‚  POST /api/products        â† Admin crea            â”‚   â”‚
â”‚  â”‚  PUT  /api/products/[id]   â† Admin edita           â”‚   â”‚
â”‚  â”‚  DEL  /api/products/[id]   â† Admin elimina         â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  POST /api/orders          â† Cliente compra        â”‚   â”‚
â”‚  â”‚  GET  /api/orders          â† Ver Ã³rdenes           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†‘                                    â”‚
â”‚                         â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚           SincronizaciÃ³n (seed.js)                â”‚     â”‚
â”‚  â”‚                                                   â”‚     â”‚
â”‚  â”‚  if (BD.isEmpty()) {                             â”‚     â”‚
â”‚  â”‚    for (producto in FakeStoreAPI)                â”‚     â”‚
â”‚  â”‚      BD.crearProducto(producto)                  â”‚     â”‚
â”‚  â”‚  }                                                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                      â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚
        â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FAKESTORE API     â”‚      â”‚   Base de Datos    â”‚
â”‚  (PÃºblica)         â”‚      â”‚   (SQLite)         â”‚
â”‚                    â”‚      â”‚                    â”‚
â”‚ GET /products      â”‚      â”‚ - Users            â”‚
â”‚ GET /products/[id] â”‚      â”‚ - Products         â”‚
â”‚ GET /categories    â”‚      â”‚ - Orders           â”‚
â”‚                    â”‚      â”‚                    â”‚
â”‚ ~20 Productos:     â”‚      â”‚ Relaciones:        â”‚
â”‚ - Electronics      â”‚      â”‚ User â†’ Orders      â”‚
â”‚ - Jewelery         â”‚      â”‚ Order â†’ Products   â”‚
â”‚ - Clothing(M/F)    â”‚      â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flujo de Datos - Compra de Producto

```
CLIENTE                          SERVIDOR                    BASE DE DATOS
   â”‚                               â”‚                              â”‚
   â”‚  1. GET /products             â”‚                              â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                              â”‚
   â”‚                               â”‚  2. Verificar si BD vacÃ­a    â”‚
   â”‚                               â”‚  3. Si vacÃ­a: Sincronizar    â”‚
   â”‚                               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                               â”‚  (FakeStoreAPI â†’ SQLite)     â”‚
   â”‚                               â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                               â”‚  4. Obtener productos        â”‚
   â”‚                               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                               â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ 5. Recibe JSON productos      â”‚                              â”‚
   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
   â”‚                               â”‚                              â”‚
   â”‚  6. Selecciona cantidad       â”‚                              â”‚
   â”‚  7. POST /api/orders          â”‚                              â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                              â”‚
   â”‚     {                          â”‚  8. Validar stock           â”‚
   â”‚       productId,              â”‚                              â”‚
   â”‚       quantity                â”‚  9. Crear orden             â”‚
   â”‚     }                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                               â”‚  10. Actualizar stock       â”‚
   â”‚                               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                               â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ 11. Respuesta exitosa         â”‚                              â”‚
   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
   â”‚                               â”‚                              â”‚
   â”‚  12. Ver Ã³rdenes              â”‚                              â”‚
   â”‚  GET /api/orders              â”‚                              â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                              â”‚
   â”‚                               â”‚  13. Obtener Ã³rdenes        â”‚
   â”‚                               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                               â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ 14. Muestra orden creada      â”‚                              â”‚
   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
   â”‚                               â”‚                              â”‚
```

---

## ğŸ“ Estructura de Archivos Modificados

```
ANTES (sin FakeStoreAPI)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx (lista bÃ¡sica)
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â””â”€â”€ products/
â”‚   â”‚           â””â”€â”€ route.ts (sin sincronizaciÃ³n)
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ prisma.ts
â”‚       â””â”€â”€ auth/ (auth utilities)
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ seed.js (productos hardcodeados)
â””â”€â”€ README.md


DESPUÃ‰S (con FakeStoreAPI) âœ¨
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx âœï¸ (mejorada con filtros)
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â””â”€â”€ products/
â”‚   â”‚           â””â”€â”€ route.ts âœï¸ (sincronizaciÃ³n automÃ¡tica)
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ prisma.ts
â”‚   â”‚   â”œâ”€â”€ auth/ (auth utilities)
â”‚   â”‚   â”œâ”€â”€ fakestore-api.ts ğŸ†• (integraciÃ³n API)
â”‚   â”‚   â””â”€â”€ product-helpers.ts ğŸ†• (17+ funciones)
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ ProductCard.tsx ğŸ†• (componente mejorado)
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ seed.js âœï¸ (carga FakeStoreAPI)
â”‚
â”œâ”€â”€ ğŸ“š DOCUMENTACIÃ“N ğŸ†•
â”‚   â”œâ”€â”€ COMENZAR_AQUI_FAKESTORE.md
â”‚   â”œâ”€â”€ QUICKSTART_FAKESTORE.md
â”‚   â”œâ”€â”€ FAKESTORE_INTEGRATION.md
â”‚   â”œâ”€â”€ GUIA_PRUEBAS_FAKESTORE.md
â”‚   â”œâ”€â”€ CAMBIOS_FAKESTORE.md
â”‚   â”œâ”€â”€ EJEMPLOS_PRODUCT_HELPERS.ts
â”‚   â””â”€â”€ INDICE_FAKESTORE.md
â”‚
â””â”€â”€ README.md (actualizado)
```

---

## ğŸ”„ Ciclo de Vida de un Producto

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             CICLO DE VIDA DEL PRODUCTO                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£ CREACIÃ“N
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ OpciÃ³n A: De FakeStoreAPI    â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚ â”‚ npm run seed            â”‚  â”‚
   â”‚ â”‚ â†“                       â”‚  â”‚
   â”‚ â”‚ Sincroniza automÃ¡tico   â”‚  â”‚
   â”‚ â”‚ (20 productos)          â”‚  â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â”‚                              â”‚
   â”‚ OpciÃ³n B: Manual (Admin)     â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚ â”‚ POST /api/products      â”‚  â”‚
   â”‚ â”‚ + nombre, precio, stock â”‚  â”‚
   â”‚ â”‚ â†“                       â”‚  â”‚
   â”‚ â”‚ Producto creado         â”‚  â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
2ï¸âƒ£ ALMACENAMIENTO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Base de Datos (SQLite)       â”‚
   â”‚                              â”‚
   â”‚ Product {                    â”‚
   â”‚   id: string                 â”‚
   â”‚   name: string               â”‚
   â”‚   description: string        â”‚
   â”‚   price: number              â”‚
   â”‚   stock: number              â”‚
   â”‚   imageUrl: string           â”‚
   â”‚   createdAt: date            â”‚
   â”‚   updatedAt: date            â”‚
   â”‚ }                            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
3ï¸âƒ£ VISUALIZACIÃ“N
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Cliente ve en /products      â”‚
   â”‚                              â”‚
   â”‚ [ProductCard]                â”‚
   â”‚ - Imagen                     â”‚
   â”‚ - Nombre                     â”‚
   â”‚ - DescripciÃ³n                â”‚
   â”‚ - Precio                     â”‚
   â”‚ - Stock                      â”‚
   â”‚ - [BotÃ³n Comprar]            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
4ï¸âƒ£ COMPRA
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Cliente selecciona cantidad  â”‚
   â”‚ â†“                            â”‚
   â”‚ POST /api/orders             â”‚
   â”‚ â†“                            â”‚
   â”‚ Validar stock > cantidad     â”‚
   â”‚ â†“                            â”‚
   â”‚ Crear orden                  â”‚
   â”‚ â†“                            â”‚
   â”‚ Actualizar stock (stock - q) â”‚
   â”‚ â†“                            â”‚
   â”‚ Orden completada             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
5ï¸âƒ£ EDICIÃ“N (Solo Admin)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Admin hace clic "Editar"     â”‚
   â”‚ â†“                            â”‚
   â”‚ PUT /api/products/[id]       â”‚
   â”‚ â†“                            â”‚
   â”‚ Actualizar datos             â”‚
   â”‚ â†“                            â”‚
   â”‚ Producto actualizado         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
6ï¸âƒ£ ELIMINACIÃ“N (Solo Admin)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Admin hace clic "Eliminar"   â”‚
   â”‚ â†“                            â”‚
   â”‚ DELETE /api/products/[id]    â”‚
   â”‚ â†“                            â”‚
   â”‚ Eliminar de BD               â”‚
   â”‚ â†“                            â”‚
   â”‚ Producto eliminado           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Diferencias: ANTES vs DESPUÃ‰S

```
                  ANTES              â”‚           DESPUÃ‰S
                                     â”‚
Productos        Hardcodeados        â”‚  De FakeStoreAPI (~20)
                 (6 productos)       â”‚
                                     â”‚
ImÃ¡genes         URLs estÃ¡ticas      â”‚  URLs dinÃ¡micas del API
                 Unsplash            â”‚  ImÃ¡genes reales
                                     â”‚
Stock            Fijo                â”‚  Aleatorio 20-70 unidades
                                     â”‚
Precios          Inventados          â”‚  Realistas ($2-$1000+)
                 ($29-$1299)         â”‚
                                     â”‚
CategorÃ­as       Sin categorizar     â”‚  Organizado por categorÃ­a
                                     â”‚
BÃºsqueda         No hay              â”‚  FunciÃ³n searchProducts()
                                     â”‚
Filtros          No hay              â”‚  Filtro: Todos/Disponibles
                                     â”‚
UI Productos     Card bÃ¡sico         â”‚  ProductCard mejorado
                                     â”‚
Cantidad         Fija (1)            â”‚  Selector de cantidad
                                     â”‚
Descuentos       No hay              â”‚  FunciÃ³n calculateDiscount()
                                     â”‚
Helpers          No hay              â”‚  17+ funciones en helpers.ts
```

---

## ğŸš€ Pipeline de SincronizaciÃ³n

```
Primera vez que accedes a /api/products:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  GET /api/products                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Â¿BD tiene productos?               â”‚
    â”‚ count() > 0?                       â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ NO               â”‚ SÃ               â”‚
    â–¼                  â–¼                  â”‚
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
 â”‚ Sincronizar  â”‚  â”‚ Devolver        â”‚  â”‚
 â”‚              â”‚  â”‚ productos       â”‚  â”‚
 â”‚ for each     â”‚  â”‚ existentes      â”‚  â”‚
 â”‚ FakeStoreAPI â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
 â”‚ product      â”‚                       â”‚
 â”‚   â”œâ”€ Fetch   â”‚                       â”‚
 â”‚   â”œâ”€ Parse   â”‚                       â”‚
 â”‚   â”œâ”€ Create  â”‚                       â”‚
 â”‚   â”‚  DB      â”‚                       â”‚
 â”‚   â””â”€ Next    â”‚                       â”‚
 â”‚              â”‚                       â”‚
 â”‚ Total: ~20   â”‚                       â”‚
 â”‚ productos    â”‚                       â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
        â”‚                               â”‚
        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Devolver todos los productos       â”‚
    â”‚ como JSON                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Modelo de Datos Relacional

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     User     â”‚           â”‚    Order     â”‚           â”‚   Product    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)      â”‚           â”‚ id (PK)      â”‚           â”‚ id (PK)      â”‚
â”‚ name         â”‚           â”‚ userId (FK)  â”‚â”€â”€â”€â”€â”€â”€â”    â”‚ name         â”‚
â”‚ email        â”‚           â”‚ productId    â”‚      â”‚    â”‚ description  â”‚
â”‚ password     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ (FK)         â”‚      â””â”€â”€â”€â†’â”‚ price        â”‚
â”‚ role         â”‚ 1         â”‚ quantity     â”‚ *         â”‚ stock        â”‚
â”‚ createdAt    â”‚           â”‚ total        â”‚           â”‚ imageUrl     â”‚
â”‚ updatedAt    â”‚           â”‚ status       â”‚           â”‚ createdAt    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ createdAt    â”‚           â”‚ updatedAt    â”‚
                           â”‚ updatedAt    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    1:N                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               *
                            (N:M a travÃ©s
                             de Order)

Ejemplo de RelaciÃ³n:
- Juan (User) crea 3 Ã³rdenes
- Orden 1: 2 laptops
- Orden 2: 1 mouse + 1 teclado
- Orden 3: 3 monitores
```

---

## ğŸ“Š Flujo de Usuarios

### Cliente (CUSTOMER)
```
Login
  â†“
/dashboard
  â”œâ”€ Ver productos
  â”‚  â”œâ”€ Filtrar (todos/disponibles)
  â”‚  â”œâ”€ Ver detalles
  â”‚  â””â”€ Seleccionar cantidad
  â”‚
  â”œâ”€ /orders
  â”‚  â””â”€ Ver mis Ã³rdenes (CUSTOMER solo ve las suyas)
  â”‚
  â””â”€ /profile
     â””â”€ Ver mi informaciÃ³n
```

### Administrador (ADMIN)
```
Login
  â†“
/dashboard
  â”œâ”€ Ver productos
  â”‚  â”œâ”€ Crear nuevo
  â”‚  â”œâ”€ Editar existentes
  â”‚  â”œâ”€ Eliminar productos
  â”‚  â””â”€ Ver stock de todos
  â”‚
  â”œâ”€ /orders
  â”‚  â””â”€ Ver TODAS las Ã³rdenes (ADMIN ve todo)
  â”‚
  â”œâ”€ /users
  â”‚  â””â”€ Gestionar usuarios
  â”‚
  â””â”€ /profile
     â””â”€ Administrador info
```

---

## ğŸ” Niveles de Acceso

```
API Endpoint              â”‚ CUSTOMER â”‚ ADMIN â”‚ PUBLICO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GET /api/products        â”‚    âœ…    â”‚   âœ…  â”‚   âœ…
POST /api/products       â”‚    âŒ    â”‚   âœ…  â”‚   âŒ
PUT /api/products/[id]   â”‚    âŒ    â”‚   âœ…  â”‚   âŒ
DELETE /api/products/id] â”‚    âŒ    â”‚   âœ…  â”‚   âŒ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GET /api/orders          â”‚   (suyas)â”‚ (todas)â”‚   âŒ
POST /api/orders         â”‚    âœ…    â”‚   âœ…  â”‚   âŒ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GET /api/users           â”‚    âŒ    â”‚   âœ…  â”‚   âŒ
POST /api/users          â”‚    âŒ    â”‚   âœ…  â”‚   âŒ
```

---

## ğŸ¯ ConclusiÃ³n

La integraciÃ³n de FakeStoreAPI permite:
1. âœ… Mostrar productos reales sin tener que crearlos
2. âœ… SincronizaciÃ³n automÃ¡tica en primer acceso
3. âœ… Mantener control manual de productos (Admin)
4. âœ… Mejor experiencia de usuario con imÃ¡genes reales
5. âœ… Base de datos centralizada para Ã³rdenes

**Resultado**: Una tienda funcional, escalable y lista para producciÃ³n ğŸš€

---

**Diagrama actualizado**: 26 de enero de 2025
